<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Subspace Proof-of-Archival-Storage consensus"><title>sc_consensus_subspace - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-cb6f1f67f1bcd037.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="sc_consensus_subspace" data-themes="" data-resource-suffix="" data-rustdoc-version="1.73.0-nightly (399b06823 2023-07-20)" data-channel="nightly" data-search-js="search-6dfdfced5eff6596.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-6d2c9675f3d09c26.css" data-theme-dark-css="dark-45ceb8f2e522f4d1.css" data-theme-ayu-css="ayu-fd19013d6ce078bf.css" ><script src="../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-6d2c9675f3d09c26.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-45ceb8f2e522f4d1.css"><link rel="stylesheet" href="../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../sc_consensus_subspace/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../sc_consensus_subspace/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate sc_consensus_subspace</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.1.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">sc_consensus_subspace</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/sc_consensus_subspace/lib.rs.html#18-1371">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="subspace-proof-of-archival-storage-consensus"><a href="#subspace-proof-of-archival-storage-consensus">Subspace Proof-of-Archival-Storage consensus</a></h2>
<p>Subspace is a slot-based block production mechanism which uses a Proof-of-Archival-Storage to randomly perform the slot
allocation. On every slot, all the farmers evaluate their disk-based plot. If they have a tag (reflecting a commitment
to a valid encoding) that it is lower than a given threshold (which is proportional to the total space pledged by the
network) they may produce a new block.</p>
<p>Core inputs to the Proof-of-Archival-Storage, such as global randomness and solution range come from the runtime,
see <code>pallet-subspace</code> for details.</p>
<p>The fork choice rule is weight-based, where weight is derived from the distance between solution proposed in a block and
the local challenge for particular farmer. The heaviest chain (represents a chain with more storage pledged to it)
will be preferred over alternatives or longest chain is in case of a tie.</p>
<p>For a more in-depth analysis of Subspace consensus can be found in our
<a href="https://subspace.network/news/subspace-network-whitepaper">consensus whitepaper</a>.</p>
<p>This crate contains following major components:</p>
<ul>
<li>worker (<code>sc-consensus-slots</code>) for claiming slots (block production)</li>
<li>block verifier that stateless verification of signature and Proof-of-Space</li>
<li>block import that verifies Proof-of-Archival-Storage and triggers archiving of the history</li>
<li>archiver worker triggered by block import that ensures history is archived and segment headers are produced at precisely 
the right time before finishing block import</li>
</ul>
<p>License: GPL-3.0-or-later WITH Classpath-exception-2.0</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="aux_schema/index.html" title="mod sc_consensus_subspace::aux_schema">aux_schema</a></div><div class="desc docblock-short">Schema for Subspace block weight in the aux-db.</div></li><li><div class="item-name"><a class="mod" href="notification/index.html" title="mod sc_consensus_subspace::notification">notification</a></div><div class="desc docblock-short">Utility module for handling Subspace client notifications.</div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.ArchivedSegmentNotification.html" title="struct sc_consensus_subspace::ArchivedSegmentNotification">ArchivedSegmentNotification</a></div><div class="desc docblock-short">Notification with block header hash that needs to be signed and sender for signature.</div></li><li><div class="item-name"><a class="struct" href="struct.BlockImportingNotification.html" title="struct sc_consensus_subspace::BlockImportingNotification">BlockImportingNotification</a></div><div class="desc docblock-short">Notification with number of the block that is about to be imported and acknowledgement sender
that can be used to pause block production if desired.</div></li><li><div class="item-name"><a class="struct" href="struct.NewSlotInfo.html" title="struct sc_consensus_subspace::NewSlotInfo">NewSlotInfo</a></div><div class="desc docblock-short">Information about new slot that just arrived</div></li><li><div class="item-name"><a class="struct" href="struct.NewSlotNotification.html" title="struct sc_consensus_subspace::NewSlotNotification">NewSlotNotification</a></div><div class="desc docblock-short">New slot notification with slot information and sender for solution for the slot.</div></li><li><div class="item-name"><a class="struct" href="struct.RewardSigningNotification.html" title="struct sc_consensus_subspace::RewardSigningNotification">RewardSigningNotification</a></div><div class="desc docblock-short">Notification with a hash that needs to be signed to receive reward and sender for signature.</div></li><li><div class="item-name"><a class="struct" href="struct.SegmentHeadersStore.html" title="struct sc_consensus_subspace::SegmentHeadersStore">SegmentHeadersStore</a></div><div class="desc docblock-short">Persistent storage of segment headers</div></li><li><div class="item-name"><a class="struct" href="struct.SubspaceBlockImport.html" title="struct sc_consensus_subspace::SubspaceBlockImport">SubspaceBlockImport</a></div><div class="desc docblock-short">A block-import handler for Subspace.</div></li><li><div class="item-name"><a class="struct" href="struct.SubspaceLink.html" title="struct sc_consensus_subspace::SubspaceLink">SubspaceLink</a></div><div class="desc docblock-short">State that must be shared between the import queue and the authoring logic.</div></li><li><div class="item-name"><a class="struct" href="struct.SubspaceParams.html" title="struct sc_consensus_subspace::SubspaceParams">SubspaceParams</a></div><div class="desc docblock-short">Parameters for Subspace.</div></li><li><div class="item-name"><a class="struct" href="struct.SubspaceSyncOracle.html" title="struct sc_consensus_subspace::SubspaceSyncOracle">SubspaceSyncOracle</a></div><div class="desc docblock-short">Subspace sync oracle that takes into account force authoring flag, allowing to bootstrap
Subspace network from scratch due to our fork of Substrate where sync state of nodes depends on
connected nodes (none of which will be synced initially).</div></li><li><div class="item-name"><a class="struct" href="struct.SubspaceVerifier.html" title="struct sc_consensus_subspace::SubspaceVerifier">SubspaceVerifier</a></div><div class="desc docblock-short">A verifier for Subspace blocks.</div></li><li><div class="item-name"><a class="struct" href="struct.SubspaceWorker.html" title="struct sc_consensus_subspace::SubspaceWorker">SubspaceWorker</a></div><div class="desc docblock-short">Worker for Subspace which implements <code>Future&lt;Output=()&gt;</code>. This must be polled.</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Error.html" title="enum sc_consensus_subspace::Error">Error</a></div><div class="desc docblock-short">Errors encountered by the Subspace authorship task.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.block_import.html" title="fn sc_consensus_subspace::block_import">block_import</a></div><div class="desc docblock-short">Produce a Subspace block-import object to be used later on in the construction of an
import-queue.</div></li><li><div class="item-name"><a class="fn" href="fn.create_subspace_archiver.html" title="fn sc_consensus_subspace::create_subspace_archiver">create_subspace_archiver</a></div><div class="desc docblock-short">Crate an archiver task that will listen for importing blocks and archive blocks at <code>K</code> depth,
producing pieces and segment headers (segment headers are then added back to the blockchain as
<code>store_segment_header</code> extrinsic).</div></li><li><div class="item-name"><a class="fn" href="fn.get_chain_constants.html" title="fn sc_consensus_subspace::get_chain_constants">get_chain_constants</a></div><div class="desc docblock-short">Get chain constant configurations</div></li><li><div class="item-name"><a class="fn" href="fn.import_queue.html" title="fn sc_consensus_subspace::import_queue">import_queue</a></div><div class="desc docblock-short">Start an import queue for the Subspace consensus algorithm.</div></li><li><div class="item-name"><a class="fn" href="fn.slot_duration.html" title="fn sc_consensus_subspace::slot_duration">slot_duration</a></div><div class="desc docblock-short">Read configuration from the runtime state at current best block.</div></li><li><div class="item-name"><a class="fn" href="fn.start_subspace.html" title="fn sc_consensus_subspace::start_subspace">start_subspace</a></div><div class="desc docblock-short">Start the Subspace worker.</div></li></ul></section></div></main></body></html>